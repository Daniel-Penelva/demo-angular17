<h1>Formulário de Cadastro</h1>
<form [formGroup] = "formulario">

  <!-- Mensagens de Validação -->
  <div *ngIf="formulario.get('nome').touched">
    <p class="alert alert-danger" *ngIf="formulario.get('nome').hasError('required')">O campo nome precisa ser preenchido</p>
    <p class="alert alert-danger" *ngIf="formulario.get('nome').hasError('minlength')">O campo nome precisa ter pelo menos dois caracteres</p>
  </div>
  <div *ngIf="formulario.get('idade').touched">
    <p class="alert alert-danger" *ngIf="formulario.get('idade').hasError('required')">O campo idade precisa ser preenchido.</p>
    <p class="alert alert-danger" *ngIf="formulario.get('idade').hasError('min')">A idade mínima é 0.</p>
    <p class="alert alert-danger" *ngIf="formulario.get('idade').hasError('max')">A idade máxima é 120.</p>
  </div>
  <div *ngIf="formulario.get('cidade').touched">
    <p class="alert alert-danger" *ngIf="formulario.get('cidade').hasError('required')">O campo cidade precisa ser preenchido.</p>
    <p class="alert alert-danger" *ngIf="formulario.get('cidade').hasError('minlength')">O campo cidade precisa ter pelo menos três caracteres.</p>
  </div>

  <input
    type="text"
    name="nome"
    placeholder="Entre com o nome"
    formControlName="nome"
    class="form-control"
  />
  <input
    type="text"
    name="idade"
    placeholder="Entre com a idade"
    formControlName="idade"
    class="form-control"
  />
  <input
    type="text"
    name="cidade"
    placeholder="Entre com a cidade"
    formControlName="cidade"
    class="form-control"
  />

  <input type="button" value="Cadastrar" [disabled]="formulario.invalid" (click)="cadastrarPessoa()" class="btn btn-primary" />
  <input type="button" value="Alterar" [disabled]="formulario.invalid" (click)="alterarPessoa()" class="btn btn-warning" />
  <input type="button" value="Remover" [disabled]="formulario.invalid" (click)="removerPessoa()" class="btn btn-danger" />
  <input type="button" value="Cancelar" class="btn btn-secondary" />
</form>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Nome</th>
      <th scope="col">Idade</th>
      <th scope="col">Cidade</th>
      <th scope="col">Selecionar</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let pessoa of pessoas; let indice = index">
      <td> {{ pessoa.nome }} </td>
      <td> {{ pessoa.idade }} </td>
      <td> {{ pessoa.cidade }} </td>
      <td><button class="btn btn-dark" (click)="selecionarPessoa(indice)">Selecionar</button></td>
    </tr>
  </tbody>
</table>